{"componentChunkName":"component---src-templates-blog-post-js","path":"/foundamention/html/灰度/","result":{"data":{"site":{"siteMetadata":{"title":"chinley's blog"}},"markdownRemark":{"id":"866cde58-4112-5e7e-b7f0-1ac8ef76beb4","excerpt":"灰度思路： 接口控制功能开关 server层做转发到灰度域名 3.1 后台配置多个灰度规则，开启一个服务器，定时生成灰度规则文件，html引入该文件，把灰度规则挂载到window上并判断是否命中灰度规则。\n3.2 假设有abc三台灰度机器，https://lily.com/index.html?gray=a指向a…","html":"<p>灰度思路：</p>\n<ol>\n<li>接口控制功能开关</li>\n<li>server层做转发到灰度域名</li>\n<li>3.1 后台配置多个灰度规则，开启一个服务器，定时生成灰度规则文件，html引入该文件，把灰度规则挂载到window上并判断是否命中灰度规则。\n3.2 假设有abc三台灰度机器，<a href=\"https://lily.com/index.html?gray=a%E6%8C%87%E5%90%91a%E6%9C%BA%E5%99%A8%EF%BC%8Chttps://lily.com/index.html?gray=b%E6%8C%87%E5%90%91b%E6%9C%BA%E5%99%A8%EF%BC%8Chttps://lily.com/index.html?gray=c%E6%8C%87%E5%90%91c%E6%9C%BA%E5%99%A8%EF%BC%8C%E9%80%9A%E8%BF%87nginx%E9%85%8D%E7%BD%AE%E6%A0%B9%E6%8D%AE%E5%8F%82%E6%95%B0%E8%AE%BF%E9%97%AE%E4%B8%8D%E5%90%8C%E6%9C%8D%E5%8A%A1%E5%99%A8\">https://lily.com/index.html?gray=a指向a机器，https://lily.com/index.html?gray=b指向b机器，https://lily.com/index.html?gray=c指向c机器，通过nginx配置根据参数访问不同服务器</a>\n3.3 html如果命中灰度规则，重定向到带有灰度参数的链接</li>\n</ol>","frontmatter":{"title":"灰度思路","date":"Invalid date","description":null}},"previous":{"fields":{"slug":"/live/小程序实践/"},"frontmatter":{"title":"微信小程序实践"}},"next":{"fields":{"slug":"/live/礼物动画/"},"frontmatter":{"title":"web直播礼物动画"}}},"pageContext":{"id":"866cde58-4112-5e7e-b7f0-1ac8ef76beb4","previousPostId":"91a955d8-016c-5d48-a1bd-cc42ca26933c","nextPostId":"fcf74d8a-6f85-54bf-8fbf-5fad3c496536"}},"staticQueryHashes":["2841359383","788015585"]}