{"componentChunkName":"component---src-templates-blog-post-js","path":"/build-a-blog-by-gatsby/","result":{"data":{"site":{"siteMetadata":{"title":"chinley's blog"}},"markdownRemark":{"id":"46ffcab6-9535-550e-8e60-660e5d9e1264","excerpt":"如何通过gatsby搭建博客 下载gatsby脚手架 npm i gatsby-cli -g 新建一个博客目录  gatsby new blog 运行博客  gatsby develop 在github page上关联gatsby项目 添加项目原地址 git add remote xxxxx 如有修改 git add…","html":"<h3>如何通过gatsby搭建博客</h3>\n<ul>\n<li>\n<p>下载gatsby脚手架</p>\n<ul>\n<li>npm i gatsby-cli -g</li>\n</ul>\n</li>\n<li>\n<p>新建一个博客目录 </p>\n<ul>\n<li>gatsby new blog</li>\n</ul>\n</li>\n<li>\n<p>运行博客 </p>\n<ul>\n<li>gatsby develop</li>\n</ul>\n</li>\n<li>\n<p>在github page上关联gatsby项目</p>\n<ul>\n<li>添加项目原地址 git add remote xxxxx</li>\n<li>如有修改 git add、git push</li>\n</ul>\n</li>\n<li>\n<p>打包静态资源</p>\n<ul>\n<li>通过gh-pages打包，npm install gh-pages —save-dev</li>\n<li>在packag.json中添加脚本：gatsby build —prefix-paths &#x26;&#x26; gh-pages -d public -b public，gh-pages就会将文件打包到public目录，并提交到分支public</li>\n<li>在github里将项目pages的sources设置为public分支</li>\n</ul>\n</li>\n<li>打包资源成功后，在githubpage的页面就能看到样式啦</li>\n<li>\n<p>如何关联自己的域名</p>\n<ul>\n<li>在自己域名下配置dns A类型, 记录值为githubpage ip 185.199.108.153</li>\n<li>添加CNAME dns, 记录值为你的githupage域名</li>\n<li>githupage项目下设置custom domain为自己的域名</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3>npm i一直停留在sharp-libvips</h3>\n<p>  一些包被墙了，打开vpn也下载不了,需要绑定host</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">192.30.255.112\tgist.github.com\n192.30.255.112\tgithub.com\n192.30.255.112\twww.github.com\n151.101.56.133\tavatars0.githubusercontent.com\n151.101.56.133\tavatars1.githubusercontent.com\n151.101.56.133\tavatars2.githubusercontent.com\n151.101.56.133\tavatars3.githubusercontent.com\n151.101.56.133\tavatars4.githubusercontent.com\n151.101.56.133\tavatars5.githubusercontent.com\n151.101.56.133\tavatars6.githubusercontent.com\n151.101.56.133\tavatars7.githubusercontent.com\n151.101.56.133\tavatars8.githubusercontent.com\n151.101.56.133\tcamo.githubusercontent.com\n151.101.56.133\tcloud.githubusercontent.com\n151.101.56.133\tgist.githubusercontent.com\n151.101.56.133\tmarketplace-screenshots.githubusercontent.com\n151.101.56.133\traw.githubusercontent.com\n151.101.56.133\trepository-images.githubusercontent.com\n151.101.56.133\tuser-images.githubusercontent.com</code></pre></div>\n<hr>\n<h3>gatsby build WorkerError: failed to process image</h3>\n<p>  删除node_modules再重新npm i，无果，重新下载gatsby-cli，再搭建新的项目</p>","frontmatter":{"title":"通过gatsby搭建自己的博客","date":"April 27, 2021","description":"如何通过gatsby搭建博客，以及遇到的问题记录"}},"previous":null,"next":{"fields":{"slug":"/how-browser-work/"},"frontmatter":{"title":"现代浏览器架构"}}},"pageContext":{"id":"46ffcab6-9535-550e-8e60-660e5d9e1264","previousPostId":null,"nextPostId":"be5763ce-eaa7-5e96-bcba-ac3ef1e67cd0"}},"staticQueryHashes":["2841359383","788015585"]}